<div class="vr-container listing-hero ">
  <div id="vr-player-listing">
    <div style="height:96%;">
      <tour-dir show-interface="true"></tour-dir>
    </div>
  </div>
</div>
    <div class="listing-details-link" style="text-align: center;">
      <a href="#listing-page">
        <div class="section-head orange row-space" style="font-size:1.5em" id="listing-divider"> Listing Details </div>
        <i class="fa fa-2x fa-chevron-down"></i>
      </a>
    </div>

<div class="container-fluid">
  <div class="listing-container center-block">
    <!-- <div class="row" id="search-bar-row">
        <div class="col-xs-12 col-sm-7 col-sm-offset-1">
            <form class="search-form" style="margin: 20px 0 10px 10px;">
              <input
              type="text"
              id="search-bar"
              class="form-input-text"
              ng-model="marketSearch.AddressBar"
              placeholder="Search other listings..."
              />
              <button
              type="button"
              ng-click="submitMarketSearch()"
              ng-disabled="searchInProgress || backToSearchLoading"
              class="btn btn-fill--orange--left-joined "
              >
              {{ searchInProgress ? "Searching..." : "Find My Space" }}
            </button>
          </form>
        </div>
        <div class="col-xs-12 col-sm-1">
          <button class="btn btn-lg btn-fill--blue" ng-click="backtoSearch()" ng-disabled="backToSearchLoading"
          style="height:2.8em; font-size:1.5em; margin: 20px 0; border-radius: 3px;">{{backToSearchLoading ? "Loading...  " : "Back to search"}}</button>
        </div>
    </div> -->
    <div class="row" id="pill-row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-11 col-lg-offset-1">
            <div ng-if="data.Listing.Lease.IsAvailableNow && !data.Listing.Lease.LeaseStartDate">
              <div class="label availability-label col-md-3 col-sm-5 col-xs-12 col-lg-5 col-lg-offset-1"> Available Now </div>
            </div>
  
            <div ng-if="data.Listing.Lease.IsAvailableNow && data.Listing.Lease.LeaseStartDate">
              <div class="label availability-label col-md-3 col-sm-5 col-xs-12 col-lg-5 col-lg-offset-1"> Available Now </div>
            </div>
  
            <div ng-if="!data.Listing.Lease.IsAvailableNow && data.Listing.Lease.LeaseStartDate">
              <div class="label availability-label col-md-3 col-sm-5 col-xs-12 col-lg-5 col-lg-offset-1"> Available: {{data.Listing.Lease.LeaseStartDate
                | date : 'MM-dd-yyyy'}} </div>
            </div>
  
  
  
            <div ng-if="address.neighborhood">
              <div class="label neighborhood-label col-md-3 col-sm-5 col-xs-12 col-lg-5 col-lg-offset-1"> {{address.NeighborhoodLongName}}, {{address.LocalityLongName}}
                {{address.AdministrativeAreaLevel1ShortName}} </div>
            </div>
          </div>
    </div>
    <div class="row" id="listing-details-row">
        <div class="col-xs-12 col-sm-7 col-lg-offset-1 col-md-7 col-lg-6  amenity-list">
          <div class="row">
            <div class=" col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/bedroom.png" class="amenity-icon">
                <p class="amenity-text"> {{data.Listing.Beds}} {{data.Listing.Beds === 'Studio' ? '' : 'Beds'}} <span ng-if="data.Listing.IsSplitUnit">
                    Split Unit</span></p>
              </div>
            </div>

            <div class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/bathroom.png" class="amenity-icon">
                <p class="amenity-text"> {{data.Listing.Baths}} Bath</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasLoft' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/loft.png" class="amenity-icon"></img>
                <p class="amenity-text"> Loft</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasDenOffice' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/den-office.png" class="amenity-icon"></img>
                <p class="amenity-text"> Den/Office</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasDishWasher' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/dishwasher.png" class="amenity-icon"></img>
                <p class="amenity-text"> Dish Washer</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasCentralAir' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/centralair.png" class="amenity-icon"></img>
                <p class="amenity-text"> Central Air</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasInUnitWasherDryer' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/laundry.png" class="amenity-icon"></img>
                <p class="amenity-text">In Unit Laundry</p>
              </div>
            </div>


            <div ng-if='data.Listing.IsCatFriendly && !data.Listing.IsDogFriendly' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/cat-friendly.png" class="amenity-icon"></img>
                <p class="amenity-text">Cat Friendly</p>
              </div>
            </div>

            <div ng-if='data.Listing.IsDogFriendly && !data.Listing.IsCatFriendly' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/dog-friendly.png" class="amenity-icon"></img>
                <p class="amenity-text">Dog Friendly</p>
              </div>
            </div>

            <div ng-if='data.Listing.IsDogFriendly && data.Listing.IsCatFriendly' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/pet-friendly.png" class="amenity-icon"></img>
                <p class="amenity-text">Pet Friendly</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasSmartLock' class="col-xs-6 col-sm-3 col-lg-2  amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/smartlock.png" class="amenity-icon"></img>
                <p class="amenity-text">Smart Lock</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasFireplace' class="col-xs-6 col-sm-3 col-lg-2  amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/fireplace.png" class="amenity-icon"></img>
                <p class="amenity-text">Fireplace</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasPool' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/pool.png" class="amenity-icon"></img>
                <p class="amenity-text">Pool</p>
              </div>
            </div>

            <div ng-if='data.Listing.HasGym' class="col-xs-6 col-sm-3 col-lg-2 amenity-item">
              <div class="text-center">
                <img src="public/viewtemplates/images/listingpage/fitness-center.png" class="amenity-icon"></img>
                <p class="amenity-text">Fitness Center</p>
              </div>
            </div>
          </div>
          <div class="row" style="margin-top:20px;">
            <div class="col-sm-8 col-xs-12">
                <p class="listing-sub-section dk-gray">Fee Breakdown</p>
                <hr>
                <div ng-if="data.Lease.IsFirstMonthsRentRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> First Month </p>
                  <i class="fa fa-check fa-3x orange"></i>
                </div>
                <div ng-if="!data.Lease.IsFirstMonthsRentRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> First Month </p>
                  <i class="fas fa-times fa-3x blue"></i>
                </div>
                <div ng-if="data.Lease.IsSecurityDepositRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> Security Deposit </p>
                  <i class="fa fa-check fa-3x orange"></i>
                </div>
                <div ng-if="!data.Lease.IsSecurityDepositRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> Security Deposit </p>
                  <i class="fas fa-times fa-3x blue"></i>
                </div>
        
                <div ng-if="data.Lease.IsLastMonthsRentRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> Last Month </p>
                  <i class="fa fa-check fa-3x orange"></i>
                </div>
        
                <div ng-if="!data.Lease.IsLastMonthsRentRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> Last Month </p>
                  <i class="fas fa-times fa-3x blue"></i>
                </div>
        
        
                <div ng-if="data.Lease.IsBrokerFeeRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> Broker Fee </p>
                  <i class="fa fa-check fa-3x orange"></i>
                </div>
        
                <div ng-if="!data.Lease.IsBrokerFeeRequired" class="text-center col-sm-3 col-xs-6 listing-fee">
                  <p class="small-body"> Broker Fee </p>
                  <i class="fas fa-times fa-3x blue"></i>
                </div>
              </div>
              <div class="row col-xs-12 col-sm-4 col-md-4">
                      <p class="listing-sub-section dk-gray">Lease Details</p>
                      <hr>
                      <p class="small-body" style="font-size:1.3em"><span class="medium">Rent:</span> {{data.Lease.RentAmount | currency : '$' : 0}} per
                        {{'month'}}
                      </p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Lease.SecurityDepositAmount"><span class="medium">Security Deposit:</span>
                        {{data.Lease.SecurityDepositAmount | currency : '$' : 0 }}</p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Lease.BrokersFeeAmount"><span class="medium">Broker Fee:</span> {{data.Lease.BrokersFeeAmount
                        | currency : '$' : 0}}</p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Listing.HasMonthlyPetFee"><span class="medium">Pet Fee:</span> {{data.Listing.MonthlyPetFeeAmount
                        | currency : '$' : 0}}</p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Listing.MaximumPetWeight"><span class="medium">Max. Pet Weight:</span> {{data.Listing.MaximumPetWeight}}
                        pounds
                      </p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Lease.LeaseStartDate && !data.Lease.IsAvailableNow"><span class="medium">Lease
                          Start:
                        </span> {{data.Lease.LeaseStartDate | date : 'MM-dd-yyyy'}}</p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Lease.LeaseEndDate && !data.Lease.LeaseLength"><span class="medium">Lease
                          End:
                        </span> {{data.Lease.LeaseEndDate | date : 'MM-dd-yyyy'}}</p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Lease.LeaseLength"><span class="medium">Lease Length:</span> {{data.Lease.LeaseLength}}
                      </p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Lease.IsAvailableNow"><span class="medium">Lease Start:</span> Available
                        Now
                      </p>
                      <p class="small-body" style="font-size:1.3em" ng-if="data.Listing.KeyFee"><span class="medium">Key Fee:</span> {{data.Listing.KeyFee}}</p>
                </div>
          </div>
        </div>
        <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5 contact-box">
            <div class="row col-xs-12 listing-contact-address text-left">
              <p class="listing-contact-street dk-gray">{{address.FullyFormattedAddress}}</p>
              <!-- <p class= "listing-city dk-gray ">{{address.neighborhood}}</p> -->
            </div>
            <br>
            <div class="row">
              <p class="col-xs-12 text-center large-body italic" style="padding-bottom: 15px; font-size:1.3em"> Interested in seeing this listing?
              </p>
              <div class=" col-xs-12">
                <div class="col-sm-4 col-xs-12" ng-if='agent.firstName === "Joe" && agent.lastName === "Parrish"'>
                  <img src="public/viewtemplates/joe.jpg" class="listing-contact-agent-image " alt="RealtorImg">
                </div>
                <!-- <div class="col-sm-4 col-xs-12 " ng-if='agent.firstName !== "Joe" && agent.lastName !== "Parrish" && !agent.awsProfilePhotoUrl'> -->
                <div class="col-sm-4 col-xs-12 " ng-if='agent.firstName !== "Joe" && agent.lastName !== "Parrish"'>
                  <img src="{{agent.awsProfilePhotoUrl}}" ng-if="agent.awsProfilePhotoUrl" class="listing-contact-agent-image" id="agentImage"
                    alt="AWS image">
                  <img src="public/viewtemplates/portrait_placeholder.png" ng-if="!agent.awsProfilePhotoUrl" class="listing-contact-agent-image "
                    alt="Placeholder">
                </div>
                <div class="col-sm-8 col-xs-12 listing-agent-info">
                  <p class="listing-contact-agent-name" style="font-size: 1.4em"> {{agent.firstName + ' ' + agent.lastName}} </p>
                  <!-- <p class="agent-business-name" ng-if="business.name !== 'Boston Pads' && business.name !== 'NextGen Realty' && !data.Listing.IsRepresentedByOwner"><a href={{data.Businesses.BusinessURL}}> {{business.name}} </a></p> -->
                  <p class="agent-business-name" style="font-size:1.4em" ng-if="business.name !== 'Boston Pads' && business.name !== 'NextGen Realty' && !data.Listing.IsRepresentedByOwner">{{business.name}}</p>                
                  <p class="agent-business-name" ng-if="data.Listing.IsRepresentedByOwner"> Self Represented </p>
                  <p class="agent-business-name" ng-if="business.name === 'Boston Pads'"><a href="https://bostonpads.com/">{{business.name}}</a></p>
                  <p class="agent-business-name" ng-if="business.name === 'NextGen Realty'"><a href="https://www.nextgenrealty.com/">{{business.name}}</a></p>
                  <p class="small-body listing-contact-agent-number" style="font-size:1.3em" ng-if='agent.phoneNumber'>Agent Phone: <span class="light"><a
                        ng-href="tel:617-917-5803"></a> {{agent.phoneNumber}} </span></p>
                  <p class="small-body listing-contact-agent-number" ng-if="business.name === 'Boston Pads' || business.name === 'NextGen Realty'">
                    Office Phone: <a href='tel:617-208-2121'>617-208-2121</a></p>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-12 row-space">
                <button class="btn btn-lg btn-fill--orange center-block" style="padding:15px; font-size:1.3em; border-radius: 3px;" ng-click="requestShowing()">
                  Contact {{agent.firstName}}
                </button>
              </div>
            </div>
            <div class="row" style="margin-top:20px;">
                <div class="col-xs-12 listing-sub-section dk-gray">Want to see more listings?</div>
                <div class="col-xs-12 col-sm-12 col-md-7 col-lg-6" style="margin-top:20px;">
                    <form class="search-form">
                      <input
                      type="text"
                      id="search-bar"
                      class="form-input-text"
                      ng-model="marketSearch.AddressBar"
                      placeholder="Search listings..."
                      style="width:80%;"
                      />
                      <button
                      type="button"
                      ng-click="submitMarketSearch()"
                      ng-disabled="searchInProgress || backToSearchLoading"
                      class="btn btn-fill--orange--left-joined"
                      style="width:20%"
                      >
                      <i ng-if="!searchInProgress" class="fas fa-search"></i>
                      <span ng-if="searchInProgress">Searching...</span>
                    </button>
                  </form>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-5 col-lg-6" style="margin-top:20px;">
                  <button class="btn btn-lg btn-fill--blue" style="width:100%; padding:10px; font-size:1.5em; height:2.8em; border-radius:2px;" ng-click="backtoSearch()" ng-disabled="backToSearchLoading">{{backToSearchLoading ? "Loading...  " : "Back to my search"}}</button>
                </div>
            </div>
            <!-- <div>
           <button ng-click="agentInfo()" type="button" class="btn btn-md btn-fill--orange"> Contact Agent </button>
          </div> -->
          </div>
    </div>
    <div class="row" id="description-row" style="margin-top:20px;">
        <hr id="listing-divider">
        <div class="col-xs-12 col-sm-5  col-md-4 col-md-offset-1">
          <p class="col-xs-12 listing-sub-section dk-gray">Unit Description</p>
          <p class="small-body" style="line-height:1.3">{{data.Listing.ListingDescription}}</p>
        </div>
        <div class="col-xs-12 col-sm-3 col-md-2">
            <p class="listing-sub-section dk-gray"> Additional Amenity Information </p>
            <p class="small-body"> {{data.Listing.AmenityDescription || 'This is a Listing Amenity Description and it is usually about this long'}}</p>
        </div>
        <div class="col-xs-12 col-sm-4 col-md-4 listing-map">
            <p class="listing-sub-section dk-gray"> {{address.FullyFormattedAddress}} </p>
            <div class="" id='map'></div>
          </div>
    </div>

    <div class="row-space"></div>
    <div class="row-space"></div>
    <div class="row-space"></div>
    <div class="row-space"></div>
    <div class="row-space"></div>

    <hr id="listing-divider" style="margin-top:20px;">
    <div class="col-xs-12 center-block text-center">
      <img src="public/viewtemplates/fheo.jpg" style="height:35px;" alt="Fair Housing Equal Opportunity Logo">
      <p class="small-body row-space med-gray"><em>Disclaimer: The terms of this listing are subject to change.</em></p>
      <p class="small-body med-gray"><em>Disclaimer: This listing may no longer be available for rent.</em></p>
    </div>

  </div>
  <div class="row-space"></div>


</div>